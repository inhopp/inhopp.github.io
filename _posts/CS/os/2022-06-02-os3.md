---
title:  "Chapter3. í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬" 

categories:
  -  OS
tags:
  - [CS, OS]

toc: true
toc_sticky: true

date: 2022-06-02
last_modified_at: 2022-06-02
---

ìœ íŠœë¸Œì— ìˆëŠ” ê¹€ë•ìˆ˜ êµìˆ˜ë‹˜ì˜ **[Operating System](https://www.youtube.com/watch?v=EdTtGv9w2sA&list=PLBrGAFAIyf5rby7QylRc6JxU5lzQ9c4tN)** ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤.<br>
ì¤‘ê°„ì— ë“±ì¥í•˜ëŠ” ppt ë‚´ìš©ë“¤ì€ ëª¨ë‘ ê°•ì˜ìë£Œë¥¼ ìº¡ì²˜í•œ ê²ƒì…ë‹ˆë‹¤.
{: .notice--warning}

<br>

# ğŸ”§ í”„ë¡œì„¸ìŠ¤ì˜ ì •ì˜

![3-1](https://user-images.githubusercontent.com/96368476/171648547-5cc1fe31-f2d3-44a9-8cc0-9d157323409d.png){: width="60%" height="70%" .align-center}

## Job vs Process

- ì‘ì—…(Job) or í”„ë¡œê·¸ë¨(Program)
  - ì‹¤í–‰í•  í”„ë¡œê·¸ë¨ + ë°ì´í„°
  - ì»´í“¨í„° ì‹œìŠ¤í…œì— ì‹¤í–‰ ìš”ì²­ ì „ì˜ ìƒíƒœ
  - ì¦‰, ì»¤ë„ì— ë“¤ì–´ê°€ê¸° ì „ ë””ìŠ¤í¬ì— ì¡´ì¬í•˜ëŠ” ìƒíƒœ
- í”„ë¡œì„¸ìŠ¤ (Process)
  - ì‹¤í–‰ì„ ìœ„í•´ ì‹œìŠ¤í…œ(ì»¤ë„)ì— ë“±ë¡ëœ ì‘ì—…
  - ì»¤ë„ì— ì˜í•´ ê´€ë¦¬ë¨

<br>

## Process & Resource

- Process : ì‹¤í–‰ì¤‘ì¸ í”„ë¡œê·¸ë¨
  - ì»¤ë„ì— ë“±ë¡ë˜ê³  ì»¤ë„ì— ì˜í•´ ê´€ë¦¬ë¨
  - ê°ì¢… ìì›ë“¤ì„ ìš”ì²­í•˜ê³  í• ë‹¹, ë°˜ë‚©í•˜ëŠ” ëŠ¥ë™ì ì¸ ê°œì²´(active entity)
  - í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬ ë¸”ë¡(PCB)ë¥¼ í• ë‹¹ë°›ìŒ

- Resource : ìì›
  - ì»¤ë„ì˜ ê´€ë¦¬ í•˜ì— í”„ë¡œì„¸ìŠ¤ì—ê²Œ í• ë‹¹/ë°˜ë‚©ë˜ëŠ” ìˆ˜ë™ì  ê°œì²´(passive entity)
  - HW resource: processor, memory, disk, ...
  - SW resource: message, files, signal, ...

<br>

# ğŸ”§ í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬ ë¸”ë¡ (PCB)

![3-2](https://user-images.githubusercontent.com/96368476/171648592-dd889038-c412-4578-b2e3-0f0046e996c8.png){: width="70%" height="80%" .align-center}

- **Process Control Block(PCB)**
  - kernel space ë‚´ì— ì¡´ì¬ (ì»¤ë„ì´ ê´€ë¦¬)
  - OSê°€ í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬ì— í•„ìš”í•œ ì •ë³´ ì €ì¥
  - í”„ë¡œì„¸ìŠ¤ ìƒì„±ì‹œ ìƒì„±ë¨
  - PCB ì •ë³´ëŠ” OSë§ˆë‹¤ ë‹¤ë¦„
  - **<span style="color:red">PCB ì°¸ì¡° ë° ê°±ì‹  ì†ë„ëŠ” OSì„±ëŠ¥ì„ ê²°ì • ì§“ëŠ” ì¤‘ìš”í•œ ìš”ì†Œ</span>**

<br>

## PCBê°€ ê´€ë¦¬í•˜ëŠ” ì •ë³´

- PID (Process Identification number)
  - í”„ë¡œì„¸ìŠ¤ ê³ ìœ  ì‹ë³„ ë²ˆí˜¸
- ìŠ¤ì¼€ì¤„ë§ ì •ë³´
  - í”„ë¡œì„¸ìŠ¤ ìš°ì„ ìˆœìœ„ ë“± ìŠ¤ì¼€ì¤„ë§ ê´€ë ¨ ì •ë³´
- í”„ë¡œì„¸ìŠ¤ ìƒíƒœ
  - ìì› í• ë‹¹, ìš”ì²­ ì •ë³´ ë“±
- ë©”ëª¨ë¦¬ ê´€ë¦¬ ì •ë³´
  - page table, segment table ë“±
- ì…ì¶œë ¥ ìƒíƒœ ì •ë³´
- Context save area
  - í”„ë¡œì„¸ìŠ¤ì˜ ë ˆì§€ìŠ¤í„° ìƒíƒœ ë“±
- ê³„ì • ì •ë³´
  - ìì› ì‚¬ìš© ì‹œê°„ ë“±ì„ ê´€ë¦¬


<br>


# ğŸ”§ í”„ë¡œì„¸ìŠ¤ì˜ ìƒíƒœ (Process states)

> Process & Resource ê°„ ìƒí˜¸ì‘ìš©ì— ì˜í•´ ê²°ì •

![3-3](https://user-images.githubusercontent.com/96368476/171648549-c6860c8e-a3ab-43f2-9302-7241e18dc064.png){: width="70%" height="80%" .align-center}

![3-0](https://user-images.githubusercontent.com/96368476/171687277-1b3633e4-11d3-4456-a09a-bfdb87e4bc4c.png){: width="70%" height="80%" .align-center}


<br>


## Created State

![3-4](https://user-images.githubusercontent.com/96368476/171648553-b5eb3b8a-b99e-4246-a1db-710d9d78e5eb.png){: width="50%" height="60%" .align-center}

- ì‘ì—…(job)ì„ ì»¤ë„ì— ë“±ë¡
- PCB í• ë‹¹ ë° í”„ë¡œì„¸ìŠ¤ ìƒì„±
- ê°€ìš© ë©”ëª¨ë¦¬ ê³µê°„ ì²´í¬
  - ë©”ëª¨ë¦¬ í• ë‹¹ ê°€ëŠ¥ â†’ ready
  - ë©”ëª¨ë¦¬ í• ë‹¹ ë¶ˆê°€ â†’ suspended ready


<br>


## Ready State

![3-5](https://user-images.githubusercontent.com/96368476/171648556-53c1a1f6-a0f9-445e-a69f-0e3e783de320.png){: width="40%" height="50%" .align-center}

- í”„ë¡œì„¸ì„œ ì™¸ì— í•„ìš”í•œ ëª¨ë“  ìì›ì„ í• ë‹¹ë°›ì€ ìƒíƒœ
  - í”„ë¡œì„¸ì„œ í• ë‹¹ ëŒ€ê¸° ìƒíƒœ
  - ì¦‰ì‹œ ì‹¤í–‰ ê°€ëŠ¥ 
- Dispatch (or Schedule) : í”„ë¡œì„¸ì„œ í• ë‹¹
  - ready state â†’ running state


<br>


## Running State

![3-6](https://user-images.githubusercontent.com/96368476/171689625-eb376e5a-0237-4810-99e0-9484d93a01de.png){: width="40%" height="50%" .align-center}

- í”„ë¡œì„¸ì„œì™€ í•„ìš”í•œ ìì›ì„ ëª¨ë‘ í• ë‹¹ë°›ì€ ìƒíƒœ
- Preemption
  - running state â†’ ready state
  - by í”„ë¡œì„¸ì„œ ìŠ¤ì¼€ì¤„ë§
  - ex) time-out, priority changes
- Block or Sleep
  - running state â†’ asleep state
  - I/O ë“± ìì› í• ë‹¹ ìš”ì²­ (ì¸í„°ëŸ½íŠ¸)



<br>


## Blocked/asleep State

![3-7](https://user-images.githubusercontent.com/96368476/171689630-48752e70-707e-46bc-a502-b3a13928699d.png){: width="40%" height="50%" .align-center}

- í”„ë¡œì„¸ì„œ ì™¸ì— ë‹¤ë¥¸ ìì›ì„ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœ
  - ìì› í• ë‹¹ì€ System callì— ì˜í•´ ì´ë£¨ì–´ì§
- Wake-up
  - asleep â†’ ready state
  - ì •ì±…ì— ë”°ë¼ ë°”ë¡œ runningìœ¼ë¡œ ê°ˆ ìˆ˜ ìˆì§€ë§Œ ë³´í†µ readyë¡œ ê°
  - (ì–¸ì œê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼í• ì§€ ëª¨ë¥´ë‹ˆê¹Œ..)


<br>


## Suspended State

![3-8](https://user-images.githubusercontent.com/96368476/171689633-ba8b00da-9f14-430d-8cea-b747ac14714f.png){: width="50%" height="60%" .align-center}

- ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹ë°›ì§€ ëª»í•œ ìƒíƒœ (ë¹¼ì•—ê¸´ ìƒíƒœ)
- Memory Image(í˜„ì¬ ì •ë³´)ë¥¼ swap deviceì— ë³´ê´€
  - swap device: í”„ë¡œê·¸ë¨ ì •ë³´ ì €ì¥ì„ ìœ„í•œ íŠ¹ë³„í•œ íŒŒì¼ ì‹œìŠ¤í…œ
- ì»¤ë„ or ì‚¬ìš©ìì— ì˜í•´ ë°œìƒ


<br>


## Terminated/zombie State

![3-9](https://user-images.githubusercontent.com/96368476/171695181-82d47a4a-68c6-45d8-ad13-288166a0bbc9.png){: width="40%" height="50%" .align-center}

- í”„ë¡œì„¸ìŠ¤ ìˆ˜í–‰ì´ ëë‚œ ìƒíƒœ
- ëª¨ë“  ìì› ë°˜ë‚© í›„, ì¼ë¶€ PCB ì •ë³´ë§Œ ë‚¨ì•„ìˆëŠ” ìƒíƒœ
  - í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬ë¥¼ ìœ„í•´ ì •ë³´ ìˆ˜ì§‘ í•„ìš”
- ì»¤ë„ì´ PCBì •ë³´ ìˆ˜ì§‘ ì´í›„ ì™„ì „íˆ ì‚­ì œ


<br>


## í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬ë¥¼ ìœ„í•œ ìë£Œêµ¬ì¡° (Queue)

![3-10](https://user-images.githubusercontent.com/96368476/171695187-e10d7a7b-955e-4b96-a194-57bd056b7347.png){: width="50%" height="60%" .align-center}

- Ready Queue
- I/O Queue
- Device Queue




<br>



# ğŸ”§ ì¸í„°ëŸ½íŠ¸ (Interrupt)

> Unexpected, external events (ëˆ„ê°€ ì˜†ì—ì„œ ì¿¡ ì°Œë¥¸ ìƒíƒœ)

<br>

## ì¸í„°ëŸ½íŠ¸ ì¢…ë¥˜

- I/O interrupt
- Clock interrupt
- Console interrupt
- Program check interrupt
- Machine check interrupt
- inter-process interrupt
- System call interrupt


<br>


## ì¸í„°ëŸ½íŠ¸ ì²˜ë¦¬ ê³¼ì •

![3-11](https://user-images.githubusercontent.com/96368476/171695198-a924a6e4-fb5b-4151-aeeb-3eddb4c73edc.png){: width="70%" height="80%" .align-center}

<br>

![3-12](https://user-images.githubusercontent.com/96368476/171695204-1780fcad-a8b1-45d2-a7a0-a5b36062c256.png){: width="70%" height="80%" .align-center}

- ì¸í„°ëŸ½íŠ¸ê°€ ë°œìƒí•˜ë©´ í”„ë¡œì„¸ìŠ¤ê°€ ì¤‘ë‹¨ë¨
- ì´ë•Œ í”„ë¡œê·¸ë¨ì˜ ìƒíƒœ ì •ë³´ë¥¼ ì €ì¥í•˜ê³ , í”„ë¡œì„¸ì„œê°€ ë‹¤ì‹œ í• ë‹¹ë˜ë©´ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜´
- **Context Switching (ë¬¸ë§¥ êµí™˜)**



<br>



# ğŸ”§ Context Switching

- Context
  - í”„ë¡œì„¸ìŠ¤ì™€ ê´€ë ¨ëœ ì •ë³´ë“¤ì˜ ì§‘í•©
  - CPU register context â†’ in CPU
  - Code & data, stack, PCB â†’ in memory
- Context saving
  - í˜„ì¬ í”„ë¡œì„¸ìŠ¤ì˜ register contextë¥¼ ì €ì¥í•˜ëŠ” ì‘ì—…
- Context restoring
  - resister contextë¥¼ í”„ë¡œì„¸ìŠ¤ë¡œ ë³µêµ¬í•˜ëŠ” ì‘ì—…

<br>

**Context Switching (Process switching)**
- ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ì˜ contextë¥¼ ì €ì¥í•˜ê³ ,
- ì•ìœ¼ë¡œ ì‹¤í–‰í•  í”„ë¡œì„¸ìŠ¤ì˜ contextë¥¼ ë³µêµ¬í•˜ëŠ” ì‘ì—…
- ì»¤ë„ì˜ ê°œì…ìœ¼ë¡œ ì´ë£¨ì–´ì§


<br>

## Context switch overhead

- ìˆ˜ë§ì€ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹œë„ ë•Œë„ ì—†ì´ ë°±ì—…&ë¡œë“œ, ë°±ì—…&ë¡œë“œ, ...
- OS ì„±ëŠ¥ì— í° ì˜í–¥ì„ ì¤Œ
- ë¶ˆí•„ìš”í•œ Context switchingì„ ì¤„ì´ëŠ” ê²ƒì´ ì¤‘ìš”
- ex) thread ì‚¬ìš©, ...




<br>





[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}