---
title:  "Chapter10. ê°€ìƒ ë©”ëª¨ë¦¬ ê´€ë¦¬(2)" 

categories:
  -  OS
tags:
  - [CS]

toc: true
toc_sticky: true

date: 2022-06-12
last_modified_at: 2022-06-12
---

ìœ íŠœë¸Œì— ìˆëŠ” ê¹€ë•ìˆ˜ êµìˆ˜ë‹˜ì˜ **[Operating System](https://www.youtube.com/watch?v=EdTtGv9w2sA&list=PLBrGAFAIyf5rby7QylRc6JxU5lzQ9c4tN)** ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤.<br>
ì¤‘ê°„ì— ë“±ì¥í•˜ëŠ” ppt ë‚´ìš©ë“¤ì€ ëª¨ë‘ ê°•ì˜ìë£Œë¥¼ ìº¡ì²˜í•œ ê²ƒì…ë‹ˆë‹¤.
{: .notice--warning}

<br>

# ğŸ”§ Replacement strategies (êµì²´ ê¸°ë²•)

## Locality

![10-5](https://user-images.githubusercontent.com/96368476/173231355-66bdbf0b-5b88-4f62-a830-ccb6af0c3faf.png){: width="60%" height="70%" .align-center}

- í”„ë¡œì„¸ìŠ¤ê°€ í”„ë¡œê·¸ë¨/ë°ì´í„°ì˜ íŠ¹ì • ì˜ì—­ì„ ì§‘ì¤‘ì ìœ¼ë¡œ ì°¸ì¡°í•˜ëŠ” í˜„ìƒ
  - Loop structure
  - Array structure
  - ë“±ë“±...
- ì˜ˆì‹œì˜ ê²½ìš° 4,7,8,6  4ê°œì˜ pageë§Œì„ ì§‘ì¤‘ì ìœ¼ë¡œ ì ‘ê·¼



<br>

# ğŸ”§ Fixed allocation

## MIN algorithm (OPT algorithm)

| Replacement | Example |
|:-:|:-:|
| ![10-6](https://user-images.githubusercontent.com/96368476/173231357-06088b6a-415b-4d68-a76f-c56360d53f0e.png) | ![10-7](https://user-images.githubusercontent.com/96368476/173231358-97c74955-2c49-472d-8008-0454ecc8b38e.png) |

- ì•ìœ¼ë¡œ ê°€ì¥ ì˜¤ë«ë™ì•ˆ ì°¸ì¡°ë˜ì§€ ì•Šì„ page êµì²´
- Minimize page fault frequency (Optimal solution)
  - Proved
- ì‹¤í˜„ ë¶ˆê°€ëŠ¥ (Inrealizable)
  - Page reference stringì„ ë¯¸ë¦¬ ì•Œê³  ìˆì–´ì•¼ í•¨
- **êµì²´ ê¸°ë²•ì˜ ì„±ëŠ¥ í‰ê°€ ë„êµ¬ë¡œ ì‚¬ìš©ë¨**


<br>


## Random algorithm

- ë¬´ì‘ìœ„ë¡œ êµì²´í•  page ì„ íƒ
- Low overhead
- No policy


<br>


## FIFO algorithm

| Replacement | Example |
|:-:|:-:|
| ![10-8](https://user-images.githubusercontent.com/96368476/173231360-c04b9967-9fb9-4b78-b9f3-06bd849ce1cb.png) | ![10-9](https://user-images.githubusercontent.com/96368476/173231361-1cc330a8-6a22-4c09-889f-d5e47bc77bdc.png) |

- First In First Out : ê°€ì¥ ì˜¤ë˜ëœ pageë¥¼ êµì²´
- Pageê°€ ì ì¬ëœ ì‹œê°„ì„ ê¸°ì–µí•˜ê³  ìˆì–´ì•¼í•¨
- ìì£¼ ì‚¬ìš©ë˜ëŠ” pageê°€ êµì²´ë  ê°€ëŠ¥ì„±ì´ í¼
  - Localityì— ëŒ€í•œ ê³ ë ¤ê°€ ì—†ìŒ
- FIFO anomaly
  - ë” ë§ì€ page frameì„ í• ë‹¹ ë°›ìŒì—ë„ ë¶ˆêµ¬í•˜ê³  page faultì˜ ìˆ˜ê°€ ì¦ê°€í•˜ëŠ” ê²½ìš°ê°€ ìˆìŒ


<br>


## LRU (Least Recently Used) algorithm

| Replacement | Example |
|:-:|:-:|
| ![10-10](https://user-images.githubusercontent.com/96368476/173232170-49e47acf-1c73-4483-b5e7-81f26ea107f1.png) | ![10-11](https://user-images.githubusercontent.com/96368476/173232171-4842df72-2413-4b01-920c-9c9f73b43601.png) |

- ê°€ì¥ ì˜¤ë«ë™ì•ˆ ì°¸ì¡°ë˜ì§€ ì•Šì€ pageë¥¼ êµì²´
- Page ì°¸ì¡°í•  ë•Œë§ˆë‹¤ ì‹œê°„ì„ ê¸°ë¡í•´ì•¼ í•¨
- Localityì— ê¸°ë°˜ì„ ë‘” êµì²´ ê¸°ë²•
- MIN algorithmì— ê·¼ì ‘í•œ ì„±ëŠ¥ì„ ë³´ì—¬ì¤Œ
- **<span style="color:red">ì‹¤ì œë¡œ ê°€ì¥ ë§ì´ í™œìš©ë˜ëŠ” ê¸°ë²•</span>**
- ë‹¨ì 
  - ì°¸ì¡°í•  ë•Œë§ˆë‹¤ ì‹œê°„ ê¸°ë¡ (overhead)
    - ì •í™•í•œ ì‹œê°„ ëŒ€ì‹  ìˆœì„œë§Œ ê¸°ë¡í•˜ëŠ” ë“± ê°„ì†Œí™” ê°€ëŠ¥
  - Loop ì‹¤í–‰ì— í•„ìš”í•œ í¬ê¸°ë³´ë‹¤ ì‘ì€ ìˆ˜ì˜ page frameì´ í• ë‹¹ ëœ ê²½ìš°, page fault ìˆ˜ê°€ ê¸‰ê²©íˆ ì¦ê°€
    - Allocation ê¸°ë²•ìœ¼ë¡œ í•´ê²°í•´ì•¼ í•¨



<br>


## LFU (Least Frequently Used) algorithm

| Replacement | Example |
|:-:|:-:|
| ![10-12](https://user-images.githubusercontent.com/96368476/173232172-c50d3f43-28fe-43e4-b6c2-f159c061e6ae.png) | ![10-13](https://user-images.githubusercontent.com/96368476/173232173-45c72433-a4ed-4d28-8244-afcadad542e3.png) |

- ì°¸ì¡° íšŸìˆ˜ê°€ ê°€ì¥ ì ì€  pageë¥¼ êµì²´
- Page ì°¸ì¡°í•  ë•Œë§ˆë‹¤ ì°¸ì¡° íšŸìˆ˜ë¥¼ ëˆ„ì ì‹œì¼œì•¼ í•¨
  - LRU ëŒ€ë¹„ ì ì€ overhead
- ë‹¨ì  : ìµœê·¼ ì ì¬ëœ ì°¸ì¡°ë  ê°€ëŠ¥ì„±ì´ ë†’ì€ pageê°€ êµì²´ë  ìˆ˜ ìˆìŒ



<br>


## NUR (Not Used Recently) algorithm

![10-14](https://user-images.githubusercontent.com/96368476/173232174-090cd3db-b094-4da3-a1f0-b9b9bee08eaa.png){: width="60%" height="70%" .align-center}

- LRUì™€ ë¹„ìŠ·
  - ì‹œê°„ì´ ì•„ë‹Œ ì°¸ì¡° ì—¬ë¶€ë§Œ ë‹¤ì§
  - LRUë³´ë‹¤ ì ì€ overhead & ë¹„ìŠ·í•œ ì„±ëŠ¥
- **Bit vector ì‚¬ìš©í•˜ë©´ í¸í•¨!**
  - reference bit ì£¼ê¸°ì ìœ¼ë¡œ ì´ˆê¸°í™”



<br>


## Clock algorithm

| Replacement | Example |
|:-:|:-:|
| ![10-15](https://user-images.githubusercontent.com/96368476/173233477-6b8f2659-ad86-4720-868f-131a58072a88.png) | ![10-16](https://user-images.githubusercontent.com/96368476/173233478-117f9b1d-5fed-44f9-bbe4-78c93b1ec1b8.png) |

- Reference bit ì£¼ê¸°ì ì¸ ì´ˆê¸°í™” ì—†ìŒ
- Page frameë“¤ì„ ìˆœì°¨ì ìœ¼ë¡œ ê°€ë¦¬í‚¤ëŠ” pointer(ì‹œê³„ë°”ëŠ˜)ë¥¼ ì‚¬ìš©í•˜ì—¬ êµì²´ë  pageë¥¼ ê²°ì •
  - í˜„ì¬ ê°€ë¦¬í‚¤ê³  ìˆëŠ” pageì˜ reference bit (r) í™•ì¸
  - r = 0ì¸ ê²½ìš° êµì²´ pageë¡œ ê²°ì •
  - r = 1ì¸ ê²½ìš° reference bit ì´ˆê¸°í™” í›„ pointer ì´ë™
- ë¨¼ì € ì ì¬ëœ pageê°€ êµì²´ë  ê°€ëŠ¥ì„±ì´ ë†’ìŒ
  - FIFOì™€ ìœ ì‚¬
- Reference bitì„ ì´ìš©í•˜ì—¬ êµì²´ page ê²°ì •
  - LRU (NUR)ê³¼ ìœ ì‚¬
  - ë” ì ì€ overhead



<br>


## Second chance algorithm

| Replacement | Example |
|:-:|:-:|
| ![10-17](https://user-images.githubusercontent.com/96368476/173233474-5727ae79-e5e6-4dd9-b973-dfa775b3ff78.png) | ![10-18](https://user-images.githubusercontent.com/96368476/173233476-28f0ee1f-db50-4a98-a39c-f3eb973354fe.png) |

- Update bit (m)ë„ í•¨ê»˜ ê³ ë ¤ (write-back í•„ìš” ì—†ëŠ” page ë¨¼ì € êµì²´)
  - (0,0) : êµì²´ pageë¡œ ê²°ì •
  - (0,1) â†’ (0,0) : write-back(cleaning) listì— ì¶”ê°€ í›„ ì´ë™
  - (1,0) â†’ (0,0) í›„ ì´ë™
  - (1,1) â†’ (0,1) í›„ ì´ë™


<br>


## Other algorithms

- Additional reference bits algorithm
  - reference bit ì—¬ëŸ¬ ê°œ ì •ì˜
- MRU (Most Recently Used) algorithm
  - LRUì™€ ì •ë°˜ëŒ€ ê¸°ë²•
- MFU (Most Frequently Used) algorithm
  - LFUì™€ ì •ë°˜ëŒ€ ê¸°ë²•





<br>




# ğŸ”§ Variable allocation

## Working Set (WS) algorithm

![10-19](https://user-images.githubusercontent.com/96368476/173238972-c852ea78-5d57-4d58-b93c-3165e35711fd.png){: width="60%" height="70%" .align-center}

**Working set**
- í”„ë¡œì„¸ìŠ¤ê°€ ì¼ì •ì‹œê°„(window size) ë™ì•ˆ ì°¸ì¡°ëœ pageë“¤ì˜ ì§‘í•©

<br>

**Working set memory management**
- Locality ê¸°ë°˜
- Working setì„ ë©”ëª¨ë¦¬ì— í•­ìƒ ìœ ì§€
  - Page fault rate (thrashing) ê°ì†Œ
- Window sizeëŠ” ê³ ì •
  - memory allocationì€ ê°€ë³€
  - size ê°’ì´ ì„±ëŠ¥ì„ ê²°ì •ì§“ëŠ” ìš”ì†Œ

<br>


| process | working set size |
|:-:|:-:|
| ![10-21](https://user-images.githubusercontent.com/96368476/173238975-f0618ce8-1571-4fbd-abe8-7fcee0d21699.png) | ![10-22](https://user-images.githubusercontent.com/96368476/173238969-e4b89221-dd1b-4ff0-90d8-d7b1a2c374f5.png) |

- Working setì€ ì‹œê°„ì— ë”°ë¼ í¬ê¸°ê°€ ë³€í•¨
- íŠ¹ì§•
  - ì ì¬ë˜ëŠ” pageê°€ ì—†ë”ë¼ë„, ë©”ëª¨ë¦¬ë¥¼ ë°˜ë‚©í•˜ëŠ” pageê°€ ìˆì„ ìˆ˜ ìˆìŒ
  - ìƒˆë¡œ ì ì¬ë˜ëŠ” pageê°€ ìˆë”ë¼ë„, êµì²´ë˜ëŠ” pageê°€ ì—†ì„ ìˆ˜ ìˆìŒ
- ë‹¨ì 
  - window ê³„ì† ì³ë‹¤ë´ì•¼ í•¨
  - page faultê°€ ì—†ë”ë¼ë„ ë©”ëª¨ë¦¬ ì§€ì†ì ìœ¼ë¡œ ê´€ë¦¬í•´ì•¼ í•¨

<br>

![10-23](https://user-images.githubusercontent.com/96368476/173240293-ddb671f0-b759-4784-984f-76fbeccfe680.png){: width="60%" height="70%" .align-center}

- window sizeê°€ ë„ˆë¬´ í¬ë©´ page faultëŠ” ê°ì†Œí•˜ì§€ë§Œ, ë©”ëª¨ë¦¬ë¥¼ ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ì“°ê²Œ ë¨
- ì ë‹¹í•˜ê²Œ ìœ ì§€í•´ì•¼ í•¨


<br>



## Page Fault Frequency (PFF) algorithm

**ë©”ëª¨ë¦¬ì— ì ì¬í•  page frame ê°¯ìˆ˜ë¥¼ page fault rateì— ë”°ë¼ ê²°ì •**
- low page fault rate (long inter-fault time)
  - í”„ë¡œì„¸ìŠ¤ì—ê²Œ í• ë‹¹ëœ page frame ìˆ˜ ê°ì†Œ
- high page fault rate (short inter-fault time)
  - í”„ë¡œì„¸ìŠ¤ì—ê²Œ í• ë‹¹ëœ page frame ìˆ˜ ì¦ê°€
- page fault ë°œìƒì‹œì—ë§Œ ê°±ì‹  (low overhead)

<br>

**Criteria for page fault rate**
- threshold value t(íƒ€ìš°) ì„¤ì •
- IFT : inter-fault time
  - page faultì™€ page fault ì‚¬ì´ì˜ ê°„ê²©
- IFT > t (low page fault rate)
  - ìµœê·¼ IFT ë™ì•ˆ ì°¸ì¡°ëœ pageë“¤ë§Œ ìœ ì§€
  - ë‚˜ë¨¸ì§€ pageë“¤ì€ ë©”ëª¨ë¦¬ì—ì„œ ë‚´ë¦¼
  - ë©”ëª¨ë¦¬ í• ë‹¹ì€ ìœ ì§€ ë° ê°ì†Œ
- IFT < t (high page fault rate)
  - ê¸°ì¡´ pageë“¤ ìœ ì§€
  - í˜„ì¬ ì°¸ì¡°ëœ pageë“¤ ì¶”ê°€ ì ì¬
  - ë©”ëª¨ë¦¬ í• ë‹¹ ì¦ê°€



<br>


## Variable MIN (VMIN) algorithm

- variable allocation ê¸°ë°˜ êµì²´ ê¸°ë²• ì¤‘ optimal algorithm
- Page reference stringì„ ë¯¸ë¦¬ ì•Œê³  ìˆì–´ì•¼ í•¨
- ì‹¤í˜„ ë¶ˆê°€ëŠ¥í•œ ê¸°ë²•
- ì„±ëŠ¥ í‰ê°€ì— ì´ìš©



<br>




# ğŸ”§ Page size

Page í¬ê¸°ì— ë”°ë¥¸ ì¥ë‹¨ì ì´ ìˆì§€ë§Œ, ê°€ì¥ í¬ë¦¬í‹°ì»¬í•œ ë¬¸ì œëŠ” I/O bottleneck í˜„ìƒì´ë‹¤. ìµœê·¼ ë‚˜ì˜¤ëŠ” CPUëŠ” ì—°ì‚° ì†ë„ê°€ ë„ˆë¬´ ë¹ ë¥´ê¸° ë•Œë¬¸ì— ë°ì´í„° ê°€ì ¸ì˜¤ëŠ” ì†ë„ê°€ ì´ë¥¼ ëª» ë”°ë¼ì˜¨ë‹¤. ë”°ë¼ì„œ I/O ì‹œê°„ì„ ë‹¨ì¶•ì‹œí‚¤ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ê¸° ë•Œë¬¸ì— Page í¬ê¸°ëŠ” ì ì  ì»¤ì§€ëŠ” ê²½í–¥ì´ë‹¤.




<br>




[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}