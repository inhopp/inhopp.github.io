---
title:  "Chapter8. ë©”ëª¨ë¦¬ ê´€ë¦¬" 

categories:
  -  OS
tags:
  - [CS]

toc: true
toc_sticky: true

date: 2022-06-09
last_modified_at: 2022-06-09
---

ìœ íŠœë¸Œì— ìˆëŠ” ê¹€ë•ìˆ˜ êµìˆ˜ë‹˜ì˜ **[Operating System](https://www.youtube.com/watch?v=EdTtGv9w2sA&list=PLBrGAFAIyf5rby7QylRc6JxU5lzQ9c4tN)** ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤.<br>
ì¤‘ê°„ì— ë“±ì¥í•˜ëŠ” ppt ë‚´ìš©ë“¤ì€ ëª¨ë‘ ê°•ì˜ìë£Œë¥¼ ìº¡ì²˜í•œ ê²ƒì…ë‹ˆë‹¤.
{: .notice--warning}

<br>


# ğŸ”§ Memory - backgrounds

## ë©”ëª¨ë¦¬ ì¢…ë¥˜

![8-1](https://user-images.githubusercontent.com/96368476/172693111-e5955efa-931a-413c-9193-3f018e499fb3.png){: width="60%" height="70%" .align-center}

<br>


## ë©”ëª¨ë¦¬ ê³„ì¸µêµ¬ì¡°

![8-2](https://user-images.githubusercontent.com/96368476/172693124-7ee7d4fb-4c4f-4a75-85ee-8dcfd8594b16.png){: width="70%" height="80%" .align-center}

- Block: ë³´ì¡°ê¸°ì–µì¥ì¹˜ì™€ ì£¼ê¸°ì–µì¥ì¹˜ ì‚¬ì´ì˜ ë°ì´í„° ì „ì†¡ ë‹¨ìœ„ (1KB~4KB)
- Word: ì£¼ê¸°ì–µì¥ì¹˜ì™€ ë ˆì§€ìŠ¤í„° ì‚¬ì´ì˜ ë°ì´í„° ì „ì†¡ ë‹¨ìœ„ (16bits~64bits)
  - windows 32bits/64bits


<br>


## Address binding

![8-4](https://user-images.githubusercontent.com/96368476/172693126-d62af26f-6c2c-4f1f-9590-92bbae43672b.png){: width="70%" height="80%" .align-center}

- í”„ë¡œê·¸ë¨ì˜ ë…¼ë¦¬ ì£¼ì†Œë¥¼ ì‹¤ì œ ë©”ëª¨ë¦¬ì˜ ë¬¼ë¦¬ ì£¼ì†Œë¡œ mapping í•˜ëŠ” ì‘ì—…
- Binding ì‹œì ì— ë”°ë¼ êµ¬ë¶„
  - Compile time binding
  - Load time binding
  - Run time binding

<br>


### Compile time binding

- í”„ë¡œì„¸ìŠ¤ê°€ ë©”ëª¨ë¦¬ì— ì ì¬ë  ìœ„ì¹˜ë¥¼ ì»´íŒŒì¼ëŸ¬ê°€ ì•Œ ìˆ˜ ìˆëŠ” ê²½ìš°
  - ìœ„ì¹˜ê°€ ë³€í•˜ì§€ ì•ŠìŒ
- í”„ë¡œê·¸ë¨ ì „ì²´ê°€ ë©”ëª¨ë¦¬ì— ì˜¬ë¼ê°€ì•¼ í•¨


<br>


### Load time binding

![8-5](https://user-images.githubusercontent.com/96368476/172693128-4dc39202-ab94-4b48-9194-a847c2c1c6f0.png){: width="70%" height="80%" .align-center}

- ë©”ëª¨ë¦¬ ì ì¬ ìœ„ì¹˜ë¥¼ ì»´íŒŒì¼ ì‹œì ì—ì„œ ëª¨ë¥¼ ë•Œ ëŒ€ì²´ ê°€ëŠ¥í•œ **ìƒëŒ€ ì£¼ì†Œ** ë¥¼ ìƒì„±
- ì ì¬ ì‹œì (load time)ì— ì‹œì‘ ì£¼ì†Œë¥¼ ë°˜ì˜í•˜ì—¬ ì‚¬ìš©ì ì½”ë“œ ìƒì˜ ì£¼ì†Œë¥¼ ì¬ì„¤ì •
- í”„ë¡œê·¸ë¨ ì „ì²´ê°€ ë©”ëª¨ë¦¬ì— ì˜¬ë¼ê°€ì•¼ í•¨


<br>


### Run time binding (Execution time binding)

| Binding | í”„ë¡œì„¸ìŠ¤ ìƒíƒœ |
|:-:|:-:|
| ![8-6](https://user-images.githubusercontent.com/96368476/172693131-852fe182-beca-43c8-9e6e-255b7dcabaaa.png) | ![8-8](https://user-images.githubusercontent.com/96368476/172697151-8257ac39-2bc3-4258-9a80-2d21e219cf02.png) |

- **<span style="color:red">í”„ë¡œì„¸ìŠ¤ ìˆ˜í–‰ ë„ì¤‘ ë‹¤ë¥¸ ë©”ëª¨ë¦¬ ìœ„ì¹˜ë¡œ ì´ë™í•  ìˆ˜ ìˆìŒ</span>**
  - Address bindingì„ ìˆ˜í–‰ì‹œê°„ê¹Œì§€ ì—°ê¸°
- HWì˜ ë„ì›€ì´ í•„ìš”
  - Memory Management Unit (MMU)
- ëŒ€ë¶€ë¶„ì˜ OSê°€ ì‚¬ìš©


<br>


## Dynamic loading

- ëª¨ë“  ë£¨í‹´(í•¨ìˆ˜)ì„ êµì²´ ê°€ëŠ¥í•œ í˜•íƒœë¡œ ë””ìŠ¤í¬ì— ì €ì¥
- ì‹¤ì œ í˜¸ì¶œ ì „ê¹Œì§€ëŠ” ë£¨í‹´ì„ ì ì¬í•˜ì§€ ì•ŠìŒ
  - ë©”ì¸ í”„ë¡œê·¸ë¨ë§Œ ë©”ëª¨ë¦¬ì— ì ì¬í•˜ì—¬ ìˆ˜í–‰
  - ë£¨í‹´ì˜ í˜¸ì¶œ ì‹œì ì— address binding ìˆ˜í–‰
  - ë©”ëª¨ë¦¬ ê³µê°„ì˜ íš¨ìœ¨ì  ì‚¬ìš©


<br>


## Swapping

![8-7](https://user-images.githubusercontent.com/96368476/172693133-0196377a-e593-4af7-bd27-f6e9b7592d60.png){: width="70%" height="80%" .align-center}

- í”„ë¡œì„¸ì„œ í• ë‹¹ì´ ëë‚œ í”„ë¡œì„¸ìŠ¤ëŠ” swap-deviceë¡œ ë³´ëƒ„ (swap-out)
- í”„ë¡œì„¸ì„œë¥¼ í• ë‹¹ë°›ëŠ” í”„ë¡œì„¸ìŠ¤ëŠ” ë©”ëª¨ë¦¬ì— ì ì¬ (swap-in)




<br>


# ğŸ”§ Continuous memory allocation

- í”„ë¡œì„¸ìŠ¤(context)ë¥¼ í•˜ë‚˜ì˜ ì—°ì†ëœ ë©”ëª¨ë¦¬ ê³µê°„ì— í• ë‹¹í•˜ëŠ” ì •ì±…
- ë©”ëª¨ë¦¬ êµ¬ì„± ì •ì±…
  - ë©”ëª¨ë¦¬ì— ë™ì‹œì— ì˜¬ë¼ê°ˆ ìˆ˜ ìˆëŠ” í”„ë¡œì„¸ìŠ¤ ìˆ˜
    - Multiprogramming degree
  - ê° í”„ë¡œì„¸ìŠ¤ì—ê²Œ í• ë‹¹ë˜ëŠ” ë©”ëª¨ë¦¬ ê³µê°„ í¬ê¸°
  - ë©”ëª¨ë¦¬ ë¶„í•  ë°©ë²•

<br>

- **Uni-programming** (degree=1)
- **Multi-programming**
  - Fixed partition multi-programming (FPM)
  - Variable partition multi-programming (VPM)




<br>


# ğŸ”§ Uni-Programming

| Memory structure | Overlay structure |
|:-:|:-:|
| ![8-10](https://user-images.githubusercontent.com/96368476/172701159-bd5bb56f-8a44-4db6-bfb3-61444422904e.png) | ![8-9](https://user-images.githubusercontent.com/96368476/172701150-d923775d-8740-46a9-9449-f6c4d2123dd0.png) |

- í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ë§Œ ë©”ëª¨ë¦¬ ìƒì— ì¡´ì¬
- **ë¬¸ì œ1) ì»¤ë„ì˜ ë©”ëª¨ë¦¬ë¥¼ ì¹¨ë²”í•  ìˆ˜ ìˆìŒ**
  - ê²½ê³„ ë ˆì§€ìŠ¤í„° (boundary register) ì‚¬ìš©
  - ì—¬ê¸° ë„˜ì–´ì˜¤ì§€ ë§ˆ
- **ë¬¸ì œ2) í”„ë¡œê·¸ë¨ í¬ê¸° > ë©”ëª¨ë¦¬ í¬ê¸°**
  - Overlay structure ì‚¬ìš©
  - ê³µí†µ ë£¨í‹´ + í˜„ì¬ í•„ìš”í•œ ë£¨í‹´ë§Œ ëŒì•„ê°€ë©´ì„œ ë©”ëª¨ë¦¬ì— ì ì¬
  - ì‚¬ìš©ìê°€ í”„ë¡œê·¸ë¨ì˜ íë¦„ ë° ìë£Œêµ¬ì¡°ë¥¼ ì•Œê³  ìˆì–´ì•¼ í•¨
- **ë¹„íš¨ìœ¨ì  â†’ Multi-programming**



<br>


# ğŸ”§ Fixed partition multi-programming (FPM)

![8-11](https://user-images.githubusercontent.com/96368476/172701161-cfb9bc50-4255-4da2-92fe-2e63987eef6c.png){: width="40%" height="50%" .align-center}

- ë©”ëª¨ë¦¬ ê³µê°„ì„ ë¯¸ë¦¬ ê³ ì •ëœ í¬ê¸°ë¡œ ë¶„í• 
- ê° í”„ë¡œì„¸ìŠ¤ëŠ” í•˜ë‚˜ì˜ partitionì— ì ì¬
- ê° partitionë§ˆë‹¤ boundary register ì‚¬ìš©
- ë¹ ë¥´ê³  êµ¬í˜„ì´ ì‰¬ì›€
- **ë‹¨ì : ë©”ëª¨ë¦¬ ë‚­ë¹„ (Fragmentation)**

<br>

## Fragmentation

![8-12](https://user-images.githubusercontent.com/96368476/172701163-a61c8f52-15ef-4e4b-8ce8-cb12d9e94e02.png){: width="30%" height="50%" .align-center}

- **Internal fragmentation**
  - partition í¬ê¸° > process í¬ê¸°
  - ex) 30MB íŒŒí‹°ì…˜ì„ 5MB í”„ë¡œì„¸ìŠ¤ì— í• ë‹¹
- **External fragmentation**
  - ë‚¨ì€ ë©”ëª¨ë¦¬ì˜ ì´ í•© > í”„ë¡œì„¸ìŠ¤ í¬ê¸°
  - But, ì—°ì†ëœ ê³µê°„ì´ ì•„ë‹ˆë¼ í• ë‹¹ ë¶ˆê°€
  - ë©”ëª¨ë¦¬ ë‚­ë¹„



<br>



# ğŸ”§ Variable partition multi-programming (VPM)

![8-13](https://user-images.githubusercontent.com/96368476/172706317-fa1b5cf5-e744-4ce9-ac6a-e9314b642e8c.png){: width="70%" height="80%" .align-center}

- í”„ë¡œì„¸ìŠ¤ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê³¼ì •ì—ì„œ ê·¸ë•Œê·¸ë•Œ ë©”ëª¨ë¦¬ ê³µê°„ì´ ë™ì ìœ¼ë¡œ ë¶„í• 
- **No internal fragmentation**


<br>


## Placement strategies (ë°°ì¹˜ ì „ëµ)

![8-14](https://user-images.githubusercontent.com/96368476/172706671-ab43f015-8ef0-429a-a379-a76ef039d548.png){: width="60%" height="70%" .align-center}

- ì²˜ìŒ ë©”ëª¨ë¦¬ë¥¼ ë¶„í• í•  ë•ŒëŠ” ì´ìƒì ì´ì§€ë§Œ, ì¤‘ê°„ì¤‘ê°„ì— ë©”ëª¨ë¦¬ê°€ ë°˜ë‚©ë˜ë©´ ë¬¸ì œê°€ ë°œìƒ
- ë°°ì¹˜í•  ìˆ˜ ìˆëŠ” ê³µê°„ì´ ì—¬ëŸ¬êµ°ë°ë¼ë©´ ì–´ë””ì— ë°°ì¹˜?

<br>

### First-fit (ìµœì´ˆ ì í•©)

- í”„ë¡œì„¸ìŠ¤ê°€ ë“¤ì–´ê°ˆ ìˆ˜ ìˆëŠ” ì²« ë²ˆì§¸ íŒŒí‹°ì…˜ ì„ íƒ
- Simple & low-overhead

<br>

### Best-fit (ìµœì  ì í•©)

- í”„ë¡œì„¸ìŠ¤ê°€ ë“¤ì–´ê°ˆ ìˆ˜ ìˆëŠ” íŒŒí‹°ì…˜ ì¤‘ ê°€ì¥ ì‘ì€ íŒŒí‹°ì…˜ ì„ íƒ
- íƒìƒ‰ ì‹œê°„ì´ ì˜¤ë˜ê±¸ë¦¼ (ëª¨ë“  íŒŒí‹°ì…˜ì„ ì‚´í´ë´ì•¼ í•¨)
- í¬ê¸°ê°€ í° íŒŒí‹°ì…˜ì„ ìœ ì§€í•  ìˆ˜ ìˆìŒ
- í™œìš©í•˜ê¸°ì— ë„ˆë¬´ ì‘ì€ í¬ê¸°ì˜ íŒŒí‹°ì…˜ì´ ë§ì´ ë°œìƒ

<br>

### Worst-fit (ìµœì•… ì í•©)

- í”„ë¡œì„¸ìŠ¤ê°€ ë“¤ì–´ê°ˆ ìˆ˜ ìˆëŠ” íŒŒí‹°ì…˜ ì¤‘ ê°€ì¥ í° íŒŒí‹°ì…˜ ì„ íƒ
- íƒìƒ‰ì‹œê°„ì´ ì˜¤ë˜ê±¸ë¦¼
- ì‘ì€ í¬ê¸°ì˜ íŒŒí‹°ì…˜ ë°œìƒì„ ì¤„ì¼ ìˆ˜ ìˆìŒ
- í° í¬ê¸°ì˜ íŒŒí‹°ì…˜ í™•ë³´ê°€ ì–´ë ¤ì›€

<br>

### Next-fit (ìˆœì°¨ ìµœì´ˆ ì í•©)

- State tableì—ì„œ ë§ˆì§€ë§‰ìœ¼ë¡œ íƒìƒ‰í•œ ìœ„ì¹˜ë¶€í„° íƒìƒ‰
- ì´í›„ ë“¤ì–´ê°ˆ ìˆ˜ ìˆëŠ” ì²« ë²ˆì§¸ íŒŒí‹°ì…˜ ì„ íƒ
- ë©”ëª¨ë¦¬ ì˜ì—­ì˜ ì‚¬ìš© ë¹ˆë„ ê· ë“±í™” (ë„ˆë¬´ ì• ë¶€ë¶„ë§Œ ì‚¬ìš©í•˜ë”ë¼)
- low-overhead


<br>


## External fragmentation issue

### Coalescing holes (ê³µê°„ í†µí•©)

![8-15](https://user-images.githubusercontent.com/96368476/172708341-eb46304e-f654-4d8c-bf03-4f941ea3015d.png){: width="70%" height="80%" .align-center}

- ì¸ì ‘í•œ ë¹ˆ ì˜ì—­ì„ í•˜ë‚˜ì˜ partitionìœ¼ë¡œ í†µí•©
- low-overhead

<br>

### Storage compaction (ê³µê°„ ì••ì¶•)

![8-16](https://user-images.githubusercontent.com/96368476/172708346-03f4f5ba-c6aa-4814-9298-ee8c5202823f.png){: width="70%" height="80%" .align-center}

- ëª¨ë“  ë¹ˆ ê³µê°„ì„ í•˜ë‚˜ë¡œ í†µí•©
- High-overhead
  - ëª¨ë“  í”„ë¡œì„¸ìŠ¤ë“¤ ì¢…ë£Œ í›„ ì¬ë°°ì¹˜
- í”„ë¡œì„¸ìŠ¤ ì²˜ë¦¬ì— í•„ìš”í•œ ì ì¬ ê³µê°„ì´ ì—†ì–´, ê³µê°„ í™•ë³´ê°€ í•„ìš”í•  ë•Œ ìˆ˜í–‰
  - ì˜¤ë˜ê±¸ë¦¬ê¸° ë•Œë¬¸ì— ìì£¼ ì“°ì§€ëŠ” ëª»í•¨


<br>


# ğŸ”§ Memory pool

ë™ì  ë©”ëª¨ë¦¬ í• ë‹¹(new, malloc)ì€ êµ‰ì¥íˆ ìì£¼ ì“°ì´ëŠ” ëª…ë ¹ì´ë‹¤. í•˜ì§€ë§Œ OSì˜ ë„ì›€ì„ ë°›ì•„ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì†ë„ê°€ ëŠë¦´ ìˆ˜ ë°–ì— ì—†ë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë©”ëª¨ë¦¬ í’€ì´ë¼ëŠ” íŠ¸ë¦­ì„ ì‚¬ìš©í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ OSë¡œ ë¶€í„° 1GBë¥¼ í†µì§¸ë¡œ ê°€ì ¸ì˜¤ê³  ì—¬ê¸°ì„œ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•˜ëŠ” ê²ƒì´ë‹¤. ê·¸ëŸ¬ë©´ ë§¤ë²ˆ OSë¥¼ ê±°ì¹  í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì— ì†ë„ê°€ ë¹¨ë¼ì§„ë‹¤. 


<br>




[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}