---
title:  "[ë”°ë°°ì”¨++]Chapter4. ë³€ìˆ˜ë²”ìœ„ì™€ ë” ë‹¤ì–‘í•œ ë³€ìˆ˜í˜•" 

categories:
  -  Cpp
tags:
  - [Programming]

toc: true
toc_sticky: true

date: 2022-01-17
last_modified_at: 2022-01-17
---

ì¸í”„ëŸ°ì— ìˆëŠ” í™ì •ëª¨ë‹˜ì˜ **[í™ì •ëª¨ì˜ ë”°ë¼í•˜ë©° ë°°ìš°ëŠ” C++](https://www.inflearn.com/course/following-c-plus#)** ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤.<br>
{: .notice--warning}

<br>

# ğŸš† ì§€ì—­ë³€ìˆ˜ì˜ ë²”ìœ„ì™€ ì§€ì†ê¸°ê°„ - scope vs duration

**scope vs duration : ë™ì í• ë‹¹ ê°€ë©´ ë‹¬ë¼ì§**

``` cpp
int a = 3;
int a = 5; // error

int apple = 5;
{
  int apple = 10;
  cout << apple << endl; // 10
  cout << ::apple << endl; // 5
}
cout << apple << endl; // 5
```

- ê°™ì€ ë²”ìœ„ (scope{}) ë‚´ì—ì„œ ë™ì¼í•œ ì´ë¦„ì˜ ë³€ìˆ˜ëŠ” ì‚¬ìš© ë¶ˆê°€
- ë³€ìˆ˜ ì´ë¦„ì´ ê°™ë‹¤ë©´, ê°€ì¥ ê°€ê¹Œìš´ ë²”ìœ„ì˜ ë³€ìˆ˜ê°€ ìš°ì„  (name hiding)
- ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ë©´ ë³€ìˆ˜ ë°ì´í„°ëŠ” ìˆ˜ëª…ì´ ë‹¤í•´ ì‚¬ë¼ì§


<br>

``` cpp
namespace work1
{
  int a = 5;
}

namespace work2
{
  int a = 3;
}

cout << work1::a << endl; // 5
cout << work2::a << endl; // 3
```

- namespaeë¥¼ í†µí•´ ì¶©ëŒ ë°©ì§€
- nested namespace ê°€ëŠ¥



<br>



# ğŸš† ì „ì—­ ë³€ìˆ˜, ì •ì  ë³€ìˆ˜ & ë‚´ë¶€ ì—°ê²°, ì™¸ë¶€ ì—°ê²°

## global vs static

**global variable**

``` cpp
int a = 5; // main ë°–ì—ì„œ ì„ ì–¸

int main()
{
  ...
}
```

- ë‹¤ë¥¸ cppíŒŒì¼ì—ì„œë„ ê°’ì´ ë°”ê¾¸ëŠ” ê²½ìš°ë„ ë§ì•„ì„œ ê´€ë¦¬í•˜ê¸°ê°€ ë„ˆë¬´ ë¹¡ì…ˆ 
- ì§€ì†ê¸°ê°„ì´ ì—†ìŒ. í”„ë¡œê·¸ë¨ ì¢…ë£Œ ë•Œ ì‚¬ë¼ì§
- `int g_a = 5;` ì´ëŸ° ì‹ìœ¼ë¡œ g_ë¡œ í‘œê¸°í•´ì£¼ë©´ ì¢‹ìŒ
- **<span style="color:red">ì‚¬ìš©í•˜ë ¤ë©´ constë¡œ, ë˜ë„ë¡ ì•ˆ ì“°ëŠ” ê²Œ ìµœê³ </span>**


<br>

**static variable**

``` cpp
void doSomething()
{
	static int a = 1;
	++a;
	cout << a << endl;
}

int main()
{
	doSomething(); // 2
	doSomething(); // 3
	doSomething(); // 4
	doSomething(); // 5
}
```

- **<span style="color:#bb90e2">osë¡œ ë¶€í„° ë°›ì€ ë©”ëª¨ë¦¬ê°€ static(ì •ì ) â¡ï¸ ë©”ëª¨ë¦¬ ê³µìœ </span>**
- ì´ˆê¸°í™”ëŠ” í•œ ë²ˆë§Œ ì‹œí–‰ë˜ëŠ”ë°, ë°˜ë“œì‹œ ìˆì–´ì•¼ í•¨
- í•´ë‹¹ block (ë²”ìœ„) ë°–ì—ì„œëŠ” ì ‘ê·¼ ë¶ˆê°€
- í•¨ìˆ˜ê°€ ëª‡ ë²ˆ í˜¸ì¶œëë‚˜ ë“± ë””ë²„ê¹…í•  ë•Œ ìœ ìš©í•¨
- ë²”ìœ„ê°€ ë²—ì–´ë‚˜ë„ ë©”ëª¨ë¦¬ ìœ ì§€
- **global varible ë³´ë‹¤ static local variable ì„ í˜¸**


<br>

## Internal vs External Linkage

**Internal Linkage**

``` cpp
static int g_a = 5;
```

- ë‹¤ë¥¸ cppíŒŒì¼ì—ì„œ ì ‘ê·¼ ë¶ˆê°€ëŠ¥ (ë§ì»¤ì— ë…¸ì¶œ X)

<br>

**External Linkage**

``` cpp
namespace Constatns // myConstans.h file
{
	extern const double pi = 3.141592;
	extern const double gravity = 9.8;

}

void doSomething(); // extern ìƒëµ

int main() 
{
	cout << Constatns::pi << endl;
	doSomething();
}

void doSomething()
{
	cout << 5 << endl;
}
```

- í•¨ìˆ˜ëŠ” externì´ defaultê°’ (static ì„¤ì •ë„ ê°€ëŠ¥)
- ì „ë°© ì„ ì–¸ì˜ ì˜ë¯¸ : externì´ë‹ˆ ì–´ë”˜ê°€ì— ëª¸í†µì´ ìˆë‹¤. ì»´íŒŒì¼ëŸ¬ ë„ˆê°€ ì•Œì•„ì„œ ì°¾ì•„ ì¨ë¼
  - ë§Œì•½ ëª¸í†µì´ ì—†ìœ¼ë©´? ë¹Œë“œëŠ” ë˜ëŠ”ë° ì»´íŒŒì¼ì—ëŸ¬ë‚¨
- ì „ì—­ ë³€ìˆ˜ ì•ì— extern ë¶™ì´ë©´ ë©”ëª¨ë¦¬ ê³µìœ 
  - extern ì—†ì–´ë„ ì‚¬ìš©ì€ ê°€ëŠ¥í•œë° ê°’ ë³µì‚¬í•´ì™€ì„œ ì‚¬ìš© â¡ï¸ extern ëª…ì‹œë¡œ ë©”ëª¨ë¦¬ ìµœì í™” ê°€ëŠ¥




<br>


# ğŸš† usingë¬¸ê³¼ ëª¨í˜¸ì„± (ambiguity)

``` cpp
namespace a
{
	int my_var = 123;
}

namespace b
{
	int my_var = 123;
}

int main()
{
	using namespace a;
	using namespace b;

	cout << my_var << endl; // error: my_var is ambiguous
}
```

- using namespace a : ì •ì˜ ì•ˆ ë˜ì–´ ìˆìœ¼ë©´ a ê°€ì„œ ì°¾ì•„ë´ë¼.
- ë³€ìˆ˜ë‚˜ í•¨ìˆ˜ì˜ ì´ë¦„ì´ ê°™ì€ ê²½ìš°ê°€ ìƒê¹€
- íŠ¹íˆ ì „ì—­ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” usingì´ë‚˜ í—¤ë” íŒŒì¼ì—ì„œ using ë„£ì–´ ë²„ë¦¬ë©´ ì—ëŸ¬ ê°€ëŠ¥ì„±ì´ ì»¤ì§
- **<span style="color:red">using namespaceëŠ” risk ì¡´ì¬</span>**

<br>

ì • ì“°ê³ ì‹¶ìœ¼ë©´
``` cpp
	{
		using namespace a;
		cout << my_var << endl; // error X
	}

	{
		using namespace b;
		cout << my_var << endl;
	}
```



<br>


# ğŸš† Auto í‚¤ì›Œë“œì™€ ìë£Œí˜• ì¶”ë¡  - Type Inference

``` cpp
auto add(int x, int y)
{
	return x + y;
}

int main()
{
	auto a = 1 + 2.0; // a : double
}
```

- ë³€ìˆ˜, í•¨ìˆ˜ ë¦¬í„´ì— ì‚¬ìš© ê°€ëŠ¥
- í•¨ìˆ˜ parameterì—ëŠ” ì‚¬ìš© ë¶ˆê°€



<br>



# ğŸš† ì•”ì‹œì  í˜•ë³€í™˜ê³¼ ëª…ì‹œì  í˜•ë³€í™˜

## Implicit Type Conversion

``` cpp
double a = 3.14;
int b = a; 

cout << b << endl; // 3
cout << 5u - 10 << endl; // 4294967291
```

- ì»´íŒŒì¼ëŸ¬ê°€ ì•Œì•„ì„œ íƒ€ì… ë³€í™˜
- ë” ì‘ì€ íƒ€ì…ìœ¼ë¡œ ë³€í™˜ ì‹œ ë°ì´í„° ì†ì‹¤
- **<span style="color:red">ì£¼ì˜)</span>** unsinged ê°€ ìš°ì„ ìˆœìœ„ ë” ë†’ìŒ


<br>

## Explicit Type Conversion

``` cpp
	int a = int(3.14);
	int a = static_cast<int>(3.14); // í˜• ë³€í™˜ ê°•ì¡°í•˜ê¸° ì¢‹ìŒ
```

- í”„ë¡œê·¸ë˜ë¨¸ê°€ ì§ì ‘ ë³€í™˜
- ê°•ì¡°í•˜ê³  ì‹¶ì€ ê²½ìš° static_cast<> (ê¸°ëŠ¥ì€ ê°™ìŒ)



<br>



# ğŸš† ë¬¸ìì—´ ì†Œê°œ - std::String

``` cpp
	const string my_hello = "Hello, world";
	const char my_strs[] = "Hello, world";
```

- `#include <string>`
- ê¸°ë³¸ ìë£Œí˜•ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ êµ¬í˜„ë¨
- ì¶”ê°€ì ì¸ í¸ë¦¬í•œ ê¸°ëŠ¥ë“¤ë„ ìˆìŒ
  - ex) str1 + str2,  length(), ...



<br>



# ğŸš† Enumerated Types

**ë³µì¡í•œ ì´ë¦„ë“¤ ë§ê³  ì¸ë±ìŠ¤ë¡œ ë“¤ê³  ë‹¤ë‹ˆê³  ì‹¶ë‹¤..!**

``` cpp
enum Color
{
	COLOR_BLACK,	// 0
	COLOR_RED,	// 1
	COLOR_BLUE,	// 2
	COLOR_GREEN,	// 3
};


int main()
{
	Color paint = COLOR_BLUE;
 	Color apple = Color(1); // apple = red

	cout << paint << endl; // 2 ì¶œë ¥
}
```

- ëª¨ë“  ë°ì´í„° íƒ€ì… ê°€ëŠ¥
- ì‹¤ì œë¡œëŠ” ì •ìˆ˜í˜•ìœ¼ë¡œ ì›€ì§ì„
- ì „ì—­ ë³€ìˆ˜ì²˜ëŸ¼ ì‘ë™í•˜ê¸° ë•Œë¬¸ì— ë™ì¼í•œ ì´ë¦„ì˜ ë³€ìˆ˜ ëª… ì‚¬ìš© ë¶ˆê°€
- Color1_enumì˜ black, Color2_enumì˜ black ì´ ê°™ë‹¤ê³  ì¸ì‹ (ë‚´ë¶€ì ìœ¼ë¡œ 0 == 0)


<br>


## Enum Class!

``` cpp
enum class color1
{
	red,
};

enum class color2
{
	red,
};

int main()
{
	color1 red1 = color1::red;
	color2 red2 = color2::red;

	if (red1 != red2) // error : ë¹„êµ ë¶ˆê°€
		cout << "differ" << endl;
}
```

- ë™ì¼í•œ ì´ë¦„ì˜ ë³€ìˆ˜ êµ¬ë³„ & ì‚¬ìš© ê°€ëŠ¥
- ì •ìˆ˜ë¡œ ì‘ë™ X



<br>



# ğŸš† ê¸°ì¡´ ìë£Œí˜•ì— ê°€ëª… ë¶™ì—¬ì£¼ê¸° - typedef

``` cpp
double distance;
typedef double distance_t; // ì»´íŒŒì¼ëŸ¬ ì…ì¥ì—ì„œ ê°™ìŒ

distance_t home2work;


typedef vector<pair<string, int>> pairlist_t;
using pairlist_t = vector<pair<string, int>>;
```

- ì´í•´í•˜ê¸° ì‰¬ì›€ (ë©”ëª¨ê²¸ ì£¼ì†Œê²¸..)
- ìë£Œí˜•ì´ ë³µì¡í•  ê²½ìš° ìœ ìš©í•¨ (usingì“°ê¸°ë„ í•¨)




<br>



# ğŸš† êµ¬ì¡°ì²´ - struct

``` cpp
struct Person {
	// default initialize
	double height = 170.0;
	float weight = 100.0;
	int age = 25;
	string name = "Mr. Incredible";

	void print()
	{
		cout << height << "" << weight << ... << endl;
	}
};

int main()
{
	Person me{ 200.0, 100.0, 20, "Jack Jack" };
	cout << me.age << endl; // .(dot) operatorë¡œ ì ‘ê·¼
	
	Person my_friend(me); // static variable ìˆìœ¼ë©´ ì¡°ì‹¬í•´ì•¼ í•¨
}
```

- ì—¬ëŸ¬ê°€ì§€ ìë£Œí˜•ë“¤ì„ í•˜ë‚˜ë¡œ ë¬¶ì–´ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.
- c++ëŠ” êµ¬ì¡°ì²´ì— í•¨ìˆ˜ë„ ê°€ëŠ¥
- nested struct ê°€ëŠ¥
- **struct ì™€ classì˜ ì°¨ì´ëŠ” defaultê°€ publicì´ëƒ privateì´ëƒ ë¼ê³  í•¨**
- structë¼ë¦¬ assignmentëŠ” ì¡°ì‹¬í•´ì„œ í•´ì•¼ í•¨

<br>

## êµ¬ì¡°ì²´ ìë£Œí˜• í¬ê¸° - Padding

``` cpp
struct Employee    // 2 + (2) + 4 + 8 = 16 padding
{
	short id;       // 2 bytes
	int age;        // 4bytes
	double wage;    // 8 bytes
};


int main()
{
	cout << sizeof(Employee) << endl; // 16 bytes
}
```

- 2 bytes ê»´ìˆìœ¼ë©´ ë‹¤ë£¨ê¸°ê°€ ì¢€ ì–´ë µë‚˜ ë´„..
- ì»´íŒŒì¼ëŸ¬ê°€ 4 bytes ì²˜ëŸ¼ ë“¤ê³ ë‹¤ë‹˜
- **<span style="color:#bb90e2">ë³€ìˆ˜ë“¤ì˜ size, ìˆœì„œê°€ ìµœì í™”ì— ì˜í–¥ì„ ë¯¸ì¹¨</span>**




<br>
<br>

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}