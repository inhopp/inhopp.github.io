---
title:  "[ë”°ë°°ì”¨++]Chapter8-2. í´ë˜ìŠ¤"

categories:
  -  Cpp
tags:
  - [Programming]

toc: true
toc_sticky: true

date: 2022-02-01
last_modified_at: 2022-02-01
---

ì¸í”„ëŸ°ì— ìˆëŠ” í™ì •ëª¨ë‹˜ì˜ **[í™ì •ëª¨ì˜ ë”°ë¼í•˜ë©° ë°°ìš°ëŠ” C++](https://www.inflearn.com/course/following-c-plus#)** ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤.<br>
**[ê³µë¶€í•˜ëŠ” ì‹ë¹µë§˜](https://ansohxxn.github.io/categories/cpp)** ë‹˜ì˜ ë¸”ë¡œê·¸ë¥¼ ì°¸ê³ í–ˆìŠµë‹ˆë‹¤.<br>
**[learncpp](https://www.learncpp.com/)** êµì¬ ë‚´ìš©ì„ ì°¸ê³ í–ˆìŠµë‹ˆë‹¤.
{: .notice--warning}

<br>



# ğŸš† í´ë˜ìŠ¤ ì½”ë“œì™€ í—¤ë” íŒŒì¼

> í´ë˜ìŠ¤ë¥¼ í¬í•¨í•œ Typeì€ ë‹¨ì¼ ì •ì˜ ê·œì¹™ì—ì„œ ì¼ë¶€ ì œì™¸ëœë‹¤. ë”°ë¼ì„œ í—¤ë” íŒŒì¼ì— í´ë˜ìŠ¤ë¥¼ ì •ì˜í•´ë„ ê´œì°®ë‹¤.


## ğŸ“ƒ Date.h

``` cpp
#ifndef DATE_H
#define DATE_H

class Date
{
private:
	int _year = 1;
	int _month = 1;
	int _day = 1;

public:
	Date(int year, int month, int day);

	void setDate(int year, int month, int day);

	int getYear() { return _year; }
	int getMonth() { return _month; }
	int getDay() { return _day; }
};
#endif
```

- í´ë˜ìŠ¤ ë‚´ë¶€ì— ì •ì˜ëœ ë©¤ë²„ í•¨ìˆ˜ëŠ” ì•”ì‹œì ìœ¼ë¡œ ì¸ë¼ì¸ í•¨ìˆ˜ë¡œ ê°„ì£¼
  - constructor, getterì™€ ê°™ì€ ì‚¬ì†Œí•œ í•¨ìˆ˜ëŠ” ì •ì˜ ì•ˆì— í¬í•¨í•´ë„ ê´œì°®ìŒ
- ë©¤ë²„ í•¨ìˆ˜ì— ê¸°ë³¸ ê°’ì´ í¬í•¨ë˜ì–´ ìˆë‹¤ë©´ í´ë˜ìŠ¤ ì •ì˜(í—¤ë” íŒŒì¼)ì— ì„ ì–¸


<br>


## ğŸ“ƒ Date.cpp

``` cpp
#include "Date.h"

// Date constructor
Date::Date(int year, int month, int day)
{
	setDate(year, month, day);
}

// Date member function
void Date::setDate(int year, int month, int day)
{
	_year = year;
	_month = month;
	_day = day;
}
```

- í´ë˜ìŠ¤ì˜ ë©¤ë²„ í•¨ìˆ˜ë“¤ì„ êµ¬í˜„. Date:: ì¨ì¤˜ì•¼ í•¨
- í—¤ë”íŒŒì¼ê³¼ ì´ë¦„ì´ ê°™ì€ ì´ìœ ëŠ” ë³´ê¸° í¸í•˜ë¼ê³ 
- í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ê²½ìš° .cppë¥¼ includeí•˜ì§€ ì•ŠëŠ” íŠ¹ë³„í•œ ì¼€ì´ìŠ¤



<br>



# ğŸš† Const í´ë˜ìŠ¤

> ë©¤ë²„ ë³€ìˆ˜ë¥¼ ë°”ê¾¸ì§€ ëª»í•˜ëŠ” const class <br>
**const í´ë˜ìŠ¤ëŠ” const ë©¤ë²„ í•¨ìˆ˜ë§Œ ì‚¬ìš© ê°€ëŠ¥ â†’ ê°€ëŠ¥í•˜ë©´ ì „ë¶€ const í•¨ìˆ˜ë¡œ ë§Œë“¤ì**


``` cpp
int getValue() const { return _value; }
```

- const ìœ„ì¹˜ëŠ” íŒŒë¼ë¯¸í„° ë’¤, ë³¸ë¬¸ ì•
- const ë©¤ë²„ í•¨ìˆ˜ëŠ” ê°ì²´ ìˆ˜ì • ë¶ˆê°€
- ë‚´ë¶€ì—ì„œ const ë©¤ë²„ í•¨ìˆ˜ë§Œ í˜¸ì¶œ ê°€ëŠ¥
- ë³´í†µ ë¦¬í„´íƒ€ì…ë„ constë¡œ í•¨
- const ë©¤ë²„ í•¨ìˆ˜ì˜ ìˆ¨ê²¨ì§„ this í¬ì¸í„°ë“¤ì€ ëª¨ë‘ const í´ë˜ìŠ¤ ë°˜í™˜
  - ë”°ë¼ì„œ const ë©¤ë²„ í•¨ìˆ˜ëŠ” non-const ì°¸ì¡°ë¥¼ ë°˜í™˜í•  ìˆ˜ ì—†ìŒ
- í´ë˜ìŠ¤ ì •ì˜ ì™¸ë¶€(.cpp íŒŒì¼)ì—ì„œ ì •ì˜ì‹œ í”„ë¡œí†  íƒ€ì…, ì •ì˜ ëª¨ë‘ì—ì„œ const í‚¤ì›Œë“œ ì‚¬ìš©


<br>



## Copy Constructor

> ì¼ë°˜ì ìœ¼ë¡œ ë³€ìˆ˜ê°€ í•¨ìˆ˜ì˜ íŒŒë¼ë¯¸í„°ë¡œ ë„˜ì–´ê°ˆ ë•Œ ë³µì‚¬ë˜ì–´ ë„˜ì–´ê°„ë‹¤. ì´ëŠ” í´ë˜ìŠ¤ê°€ ë„˜ì–´ê°ˆ ë•Œì—ë„ ë§ˆì°¬ê°€ì§€ì´ë‹¤. ë”°ë¼ì„œ ëª¨ë“  í´ë˜ìŠ¤ëŠ” ê¸°ë³¸ ìƒì„±ìì™€ ë§ˆì°¬ê°€ì§€ë¡œ **ë³µì‚¬ ìƒì„±ì**ê°€ ìˆ¨ì–´ìˆë‹¤.


``` cpp
class Something
{
private:
	int _value = 0;

public:
	// constructor
	Something(int value_in)
		:_value{value_in}
	{}

	// copy constructor
	Something(const Something& st_in)
	{
		_value = st_in._value;
	}
};
```


<br>


## const , non-const ì˜¤ë²„ë¡œë”©

> const ì—¬ë¶€ë„ ì˜¤ë²„ë¡œë”© ê°€ëŠ¥í•˜ë‹¤.

``` cpp
class Something
{
private:
	string _value = "";

public:

	const string& getValue() const
	{
		cout << "const version" << endl;
		return _value;
	}

	string getValue()
	{
		cout << "non-const version" << endl;
		return _value;
	}
};
```

- const ê°ì²´ì—ì„œëŠ” ì•Œì•„ì„œ const version í˜¸ì¶œ
- non-const ê°ì²´ì—ì„œëŠ” non-const version í˜¸ì¶œ



<br>



# ğŸš† Static ë©¤ë²„ ë³€ìˆ˜

> íŠ¹ì • instanceì™€ ìƒê´€ ì—†ëŠ” ë©¤ë²„ ë³€ìˆ˜

``` cpp
class Something
{
private:
	static int _value;
};

int Something::_value{ 1 };
```

- static ë©¤ë²„ ë³€ìˆ˜ ì´ˆê¸°í™”ëŠ” ì ‘ê·¼ ì œì–´ì˜ ëŒ€ìƒì´ ì•„ë‹˜
  - private, protected ìƒê´€ ì—†ì´ í´ë˜ìŠ¤ ë°–ì—ì„œ ì´ˆê¸°í™” ê°€ëŠ¥
- .cpp íŒŒì¼ì—ì„œ ì´ˆê¸°í™”
  - í—¤ë”íŒŒì¼ì—ì„œ ì´ˆê¸°í™”í•˜ë©´ ì—¬ëŸ¬ ë²ˆ ì •ì˜ë˜ì–´ ë§í‚¹ì—ëŸ¬ ë°œìƒ
- static constexpr, ëª‡ëª‡ static const íƒ€ì…ì€ í´ë˜ìŠ¤ ë‚´ì—ì„œ ì´ˆê¸°í™” ê°€ëŠ¥

<br>

> C++ 17ë¶€í„° ì¼ë°˜ì ì¸ static member variableë„ í´ë˜ìŠ¤ ë‚´ì—ì„œ ì´ˆê¸°í™” ê°€ëŠ¥

``` cpp
class Something
{
public:
	static inline int _value{ 5 };
};
```

- ë‚˜ ì™œ ì—ëŸ¬ë‚˜ì§€..?? êµ¬ê¸€ë§í•˜ë©´ ë‹¤ ëœë‹¤ê³  í•˜ëŠ”ë°





<br>



# ğŸš† Static ë©¤ë²„ í•¨ìˆ˜

> íŠ¹ì • instanceì™€ ìƒê´€ ì—†ëŠ” static ë©¤ë²„ ë³€ìˆ˜ê°€ privateì¸ ê²½ìš° ì–´ë–»ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆì„ê¹Œ?

``` cpp
class Something
{
private:
	static int _value;
	
public:
	static int getValue() { return _value; }
};

int Something::_value{ 1 };

int main()
{
	cout << Something::getValue() << endl; // 1 ì¶œë ¥
	return 0;
} 
```

- static ë©¤ë²„ í•¨ìˆ˜ëŠ” this í¬ì¸í„° ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ
- static ë©¤ë²„ í•¨ìˆ˜ëŠ” static ë©¤ë²„ ë³€ìˆ˜, static ë©¤ë²„ í•¨ìˆ˜ë§Œ í˜¸ì¶œ ê°€ëŠ¥
- staticì€ ì „ì—­ ë©¤ë²„ì™€ ì„±ì§ˆì´ ë¹„ìŠ·í•˜ê¸° ë•Œë¬¸ì— ì£¼ì˜í•´ì„œ ì‚¬ìš©í•´ì•¼ í•¨


<br>


## non-static ë©¤ë²„ í•¨ìˆ˜ í¬ì¸í„°

> ë©¤ë²„ ë³€ìˆ˜ëŠ” ê° ê°ì²´ë“¤ë§ˆë‹¤ ë©”ëª¨ë¦¬ê°€ ë‹¤ë¥´ì§€ë§Œ<br>ë©¤ë²„ í•¨ìˆ˜ëŠ” ê°ì²´ë§ˆë‹¤ í•¨ìˆ˜ ë©”ëª¨ë¦¬ë¥¼ ë”°ë¡œ ê°–ëŠ” ë°©ì‹ì´ ì•„ë‹˜ (&st.temp ì»´íŒŒì¼ ì—ëŸ¬ ëœ¨ë„¤..)


``` cpp
class Something
{
public:
	int temp() { return 1; }
};


int main()
{
	Something st;

	int(Something:: * fptr)() = &Something::temp;

	cout << (st.*fptr)() << endl;

	return 0;
}
```

<br>


## Static ë©¤ë²„ í•¨ìˆ˜ í¬ì¸í„°

``` cpp
int(*fptr)() = &Something::temp;

cout << fptr() << endl;
```

- static ë©¤ë²„ í•¨ìˆ˜ëŠ” ì¼ë°˜ í•¨ìˆ˜ í¬ì¸í„°ë¡œ ì·¨ê¸‰



<br>



# ğŸš† Friend í•¨ìˆ˜ ë° í´ë˜ìŠ¤

> í´ë˜ìŠ¤ ì™¸ë¶€ í•¨ìˆ˜ë‚˜ ë‹¤ë¥¸ í´ë˜ìŠ¤ì—ê²Œ private ë©¤ë²„ ì ‘ê·¼ ê¶Œí•œ ë¶€ì—¬

``` cpp
friend int getValue();
friend class Something
```

- `friend` + í•¨ìˆ˜ í”„ë¡œí† íƒ€ì…
- `friend class` + í´ë˜ìŠ¤ ì´ë¦„


<br>


## ë‹¤ë¥¸ í´ë˜ìŠ¤ì˜ íŠ¹ì • í•¨ìˆ˜ë§Œ ì¹œêµ¬ ë§ºê¸°

``` cpp
class Display
{
public:
	void displayItem() {}
};

class Storage
{
private:
	int _value = 0;

public:
	friend void Display::displayItem();
};
```

- friend ë§ºê¸° ìœ„í•´ì„œëŠ” ì „ë°© ì„ ì–¸ í•´ì•¼ í•¨ (Stroge í´ë˜ìŠ¤ê°€ ë¨¼ì € ì„ ì–¸ë˜ë©´ ì—ëŸ¬)
  - ê·¼ë° í—¤ë”íŒŒì¼ / cppíŒŒì¼ ë‚˜ëˆ„ë©´ ì‹¤ì œë¡œëŠ” ê±°ì˜ ë¬¸ì œê°€ ë˜ì§€ ì•ŠìŒ



<br>



# ğŸš† Anonymous Objects - ìµëª… ê°ì²´

> í•œ ë²ˆë§Œ ì‚¬ìš©ë˜ëŠ” ì„ì‹œ ë³€ìˆ˜ë¡œ ì½”ë“œë¥¼ ì–´ì§€ëŸ½íˆëŠ” ê²ƒì€ ë§¤ìš° ë¹„íš¨ìœ¨ì ì´ë‹¤. <br>**ìµëª… ê°ì²´** ì˜ ì‚¬ìš©ì€ ì½”ë“œë¥¼ ì•„ì£¼ ê¹”ë”í•˜ê²Œ ìœ ì§€í•˜ë„ë¡ ë„ì™€ì¤€ë‹¤.

``` cpp
void printValue(int value)
{
	cout << value << endl;
}

int main()
{
	printValue(5 + 3);

	return 0;
}
```

ìœ„ ê²½ìš° 5+3ì˜ ê²°ê³¼ 8ì´ ìµëª… ê°ì²´ì— ë°°ì¹˜ëœë‹¤. ê·¸ëŸ° ë‹¤ìŒ ì´ ìµëª… ê°ì²´ì˜ ë³µì‚¬ë³¸ì´ printValue í•¨ìˆ˜ì˜ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ëœ ë‹¤ìŒ ì†Œë©¸ëœë‹¤.

<br>


## Anonymous class objects

``` cpp
class Cents
{
private:
	int _cents = 0;

public:
	Cents(int cents) { _cents = cents; }

	int getCents() const { return _cents; }
};

Cents add(const Cents& c1, const Cents& c2)
{
	return Cents(c1.getCents() + c2.getCents());
}

int main()
{
	cout << add(Cents(6), Cents(8)).getCents() << endl;

	return 0;
}
```



<br>



# ğŸš† Nested types in classes

> í´ë˜ìŠ¤ ë‚´ì—ì„œ ë‹¤ë¥¸ íƒ€ì… ì¤‘ì²© ê°€ëŠ¥ (íƒ€ì… ì•ˆì—ì„œ íƒ€ì… ì •ì˜)

``` cpp
class Fruit
{
public:
	enum FruitType
	{
		apple,
		banana,
		cherry
	};

private:
	FruitType _type{};
	
public:
	Fruit(FruitType type)
		:_type{ type }
	{}

	FruitType getType() const { return _type; }
};

int main()
{
	Fruit apple{ Fruit::apple };

	if (apple.getType() == Fruit::apple)
		cout << "I am an apple" << endl;
	else
		cout << "I am not an apple" << endl;

	return 0;
}
```

- ì ì ˆí•œ ì ‘ê·¼ ì§€ì •ì ì„¤ì •



<br>



# ğŸš† ì½”ë“œ ì‹¤í–‰ ì‹œê°„ ì¸¡ì •

``` cpp
#include <iostream>
#include <vector>
#include <algorithm>
#include <random>
#include <chrono>
using namespace std;

class Timer
{
private:
	using clock_t = std::chrono::high_resolution_clock;
	using secont_t = std::chrono::duration<double, std::ratio<1>>;

	std::chrono::time_point<clock_t> start_time = clock_t::now();

public:
	void elapsed() // ê²½ê³¼
	{
		std::chrono::time_point<clock_t> end_time = clock_t::now();

		cout << std::chrono::duration_cast<secont_t>(end_time - start_time).count() << endl;
	}
};


int main()
{
	// ë²¡í„° sorting í•˜ëŠ” ì˜ˆì œ

	random_device rnd_device;
	mt19937 mersenne_engine{ rnd_device() };

	vector<int> vec(100000);
	
	for (int i = 0; i < vec.size(); i++)
		vec[i] = i;

	std::shuffle(begin(vec), end(vec), mersenne_engine); 

	Timer timer;

	std::sort(begin(vec), end(vec));

	timer.elapsed(); // 0.0545231 ì¶œë ¥

	return 0;
}
```

- ì‹¤ì œ ì„±ëŠ¥ì„ ë³´ê¸° ìœ„í•´ì„œëŠ” `releaseëª¨ë“œ` ì—ì„œ ì¬ì•¼ í•¨
- í™˜ê²½ì— ë”°ë¼ ë‹¬ë¼ì§
  - ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œê·¸ë¨, í•˜ë“œì›¨ì–´ ì„±ëŠ¥, ...
  - ë„ˆë¬´ ë¯¼ê°í•˜ê²Œ ë°˜ì‘í•˜ì§€ëŠ” ë§ê¸°


<br>
<br>

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}