---
title:  "Billboards" 

categories:
  -  Graphics
tags:
  - [DirectX]

toc: true
toc_sticky: true

date: 2023-09-02
last_modified_at: 2023-09-02
---


í™ì •ëª¨ë‹˜ì˜ **[ê·¸ë˜í”½ìŠ¤ ìƒˆì‹¹ì½”ìŠ¤](https://honglab.co.kr/)** ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤.
{: .notice--warning}

<br>


# ğŸ¥ Texture Array

``` cpp
vector<string> filenames = {texture1, texture2, ..};

D3D11_TEXTURE2D_DESC txtDesc;
txtDesc.ArraySize = UINT(filenames.size());
// ...

vector<D3D11_SUBRESOURCE_DATA> initData(filenames.size());
// ...

device->CreateTexture2D(&txtDesc, initData.data(), texture.GetAddressOf());

D3D11_SHADER_RESOURCE_VIEW_DESC desc;
desc.ViewDimension = D3D11_SRV_DIMENSION_TEXTURE2DARRAY;
desc.Texture2DArray.Arraysize = txtDesc.ArraySize;
// ...

device->CreateShaderResourceView(texture.Get(), &desc, textureResourceView.GetAddressOf());
```

- ì—¬ëŸ¬ê°œì˜ texture íŒŒì¼ ê²½ë¡œë“¤ vectorë¡œ ë§Œë“¤ì–´ì£¼ê³ 
- Texture2D_Descriptionì˜ Arraysize ë§ì¶°ì£¼ê¸°
- SubResourceDataë¥¼ vectorë¡œ ë§Œë“¤ì–´ ë†“ê³ 
- Shader_ResourveView_Descriptionì˜ view_dimension, arraysize ì§€ì •

<br>

``` hlsl
// in pixel shader.hlsl
Texrture2DArray g_texArray : register(t0);
SamplerState g_sampler : register(s0);

// ...

PixelShaderOutput main(PixelShaderInput input)
{
    float3 uvw = float3(input.texCoord, float(input.primID % 5));
    float4 color = g_texArray.Sample(g_sampler, uvw);

    // ...
}
```

- Shader ì•ˆì—ì„œëŠ” Texture2DArray íƒ€ì…ìœ¼ë¡œ ë°›ì•„ì˜´
- ì´ë•Œ SamplerëŠ” 3ì°¨ì›ìœ¼ë¡œ ì‚¬ìš©
    - (uv coord, texture array index)


<br>


# ğŸ¥ Results

> 2ì°¨ì› textureì˜ ë°©í–¥ì„ viewì— ë§ê²Œ íšŒì „ì‹œì¼œ ì£¼ë©´ 3ì°¨ì› ì˜¤ë¸Œì íŠ¸ì²˜ëŸ¼ ë³´ì´ê²Œ í•  ìˆ˜ ìˆë‹¤!

| Before | After |
|:-:|:-:|
|![ezgif com-crop (4)](https://github.com/inhopp/StyleGAN/assets/96368476/d42414f2-be09-4042-b936-157896d0aa85)|![ezgif com-crop (5)](https://github.com/inhopp/StyleGAN/assets/96368476/54d5d642-e8fd-44a5-9f25-82cc6ba815fa)| 




<br>
<br>


[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}