---
title:  "[λ”°λ°°μ”¨++]Chapter6-2. λ°°μ—΄, ν¬μΈν„°, μ°Έμ΅°"

categories:
  -  Cpp
tags:
  - [Cpp, Programming, λ”°λ°°μ”¨++]

toc: true
toc_sticky: true

date: 2022-01-23
last_modified_at: 2022-01-23
---

μΈν”„λ°μ— μλ” ν™μ •λ¨λ‹μ **[ν™μ •λ¨μ λ”°λΌν•λ©° λ°°μ°λ” C++](https://www.inflearn.com/course/following-c-plus#)** κ°•μλ¥Ό λ“£κ³  μ •λ¦¬ν• λ‚΄μ©μ…λ‹λ‹¤.<br>
**[κ³µλ¶€ν•λ” μ‹λΉµλ§](https://ansohxxn.github.io/categories/cpp)** λ‹μ λΈ”λ΅κ·Έλ¥Ό μ°Έκ³ ν–μµλ‹λ‹¤.
{: .notice--warning}

<br>

# π† λ©”λ¨λ¦¬ λ™μ  ν• λ‹Ή


## νΉμ§•

- `{ }` λ²”μ„μ— μƒκ΄€ μ—†μ΄ ν•„μ”ν•  λ• ν• λ‹Ήλ°›κ³  μ‚¬μ© ν›„ λ°λ‚©
- λ©”λ¨λ¦¬ ν¬κΈ°λ¥Ό λ°νƒ€μ„μ— κ²°μ • κ°€λ¥
- OSλ¥Ό κ±°μ³μ•Ό ν•΄μ„ μ΅°κΈ λλ¦Ό
  - μ •μ  ν• λ‹Ή β†’ stack λ©”λ¨λ¦¬ ν• λ‹Ή (μ©λ‰ μ‘μ)
  - λ™μ  ν• λ‹Ή β†’ heap λ©”λ¨λ¦¬ ν• λ‹Ή (μ©λ‰ νΌ)
  - ν° λ©”λ¨λ¦¬λ” μ •μ  ν• λ‹Ή(stack memory) λ»λ°›μ
- ν• λ‹Ήλ°›μ€ λ©”λ¨λ¦¬ μ£Όμ†λ¥Ό ν¬μΈν„°λ΅ λ°›μ
- λ°λ‚© κΉλ¨ΉμΌλ©΄ memory leak (λ„μ λ°μƒ)


<br>


## ν• λ‹Ή - new / λ°λ‚© - delete

``` cpp
int* ptr = new int;
*ptr = 7;
int* ptr2 = ptr;

delete ptr;
ptr = nullptr;

cout << ptr << endl;	// null
cout << ptr2 << endl;	// μ›λ ptr μ£Όμ†
cout << *ptr2 << endl;	// μ“°λ κΈ° κ°’
```

- λ©”λ¨λ¦¬ ν• λ‹Ήμ‹(new μ„ μ–Έ) ν™ λ©”λ¨λ¦¬ ν¬κΈ°λ¥Ό κΈ°μ–µν•΄ λ‘ 
- deleteμ‹ ν•΄λ‹Ή μ£Όμ†μ— κΈ°μ–µν•΄λ‘” λ©”λ¨λ¦¬ ν¬κΈ°λ§νΌ λ°λ‚©
- delete ν•΄λ„ ν¬μΈν„° μ£Όμ†λ” κ·Έλ€λ΅ μ΅΄μ¬ (μ“°λ κΈ° κ°’ λ“¤μ–΄μμ)
- λ”°λΌμ„ delete ν›„μ—λ” ptr = nullptr ν•΄μ£Όλ”κ² μΆ‹μ
- κ°„μ ‘ μ°Έμ΅°ν•λ” ν¬μΈν„°λ“¤ μΌμΌν μ΄κΈ°ν™” ν•κΈ° νλ“¬... β†’ μ¤λ§νΈ ν¬μΈν„°κ°€ ν•΄κ²°ν•΄μ¤



<br>


## λ™μ  ν• λ‹Ή λ°°μ—΄

``` cpp
int length;
cin >> length;

int* array = new int[length]; // OK μ“°λ κΈ° κ°’ λ“¤μ–΄μμ
int* array = new int[length](); // OK 0μΌλ΅ μ΄κΈ°ν™”
int* array = new int[length](1, 2, 3, 4, 5); // Error : μ»΄νμΌ νƒ€μ„μ— μ΄κΈ°ν™” μ•ν•λ ¤ ν•¨


delete[] array;
```

- λ™μ  λ©”λ¨λ¦¬λ” μ΄κΈ°ν™” μ‚΄μ§ κΉλ‹¤λ΅μ›€
- μ •μ  λ°°μ—΄κ³Ό λ‹¬λ¦¬ arrayλ΅ λ‹¤λ¥Έ λ©”λ¨λ¦¬ μμ—­ κ°€λ¦¬ν‚¬ μ μμ
- μ‚¬μ΄μ¦ λλ¦¬κ³  μ‹¶μ€ κ²½μ° λ” ν° λ©”λ¨λ¦¬ ν• λ‹Ή λ°›μ•„μ„ λ‚΄λ¶€ κ°’ λ³µμ‚¬ λ¶™μ—¬λ„£κΈ°
  - μ •μ  λ°°μ—΄μ€ μ΄κ²ƒλ„ λ»ν•¨
  - λ³΄ν†µ λ²΅ν„° μ¨μ„ νΈν•κ² ν•΄κ²°



<br>



# π† ν¬μΈν„°μ™€ Const

## const + pointer

``` cpp
int a = 5;
int b = 10;
const int* ptr_a = &a;

*ptr_a = 10; // Error
ptr_a = &b; // OK
a = 7; // OK
```

- de-referenceλ§ λ¶κ°€λ¥
- λ‹¤λ¥Έ κ±΄ μ „λ¶€ κ°€λ¥


<br>

``` cpp
const int a = 5;

const int* ptr1 = &a;	// OK
int* ptr2 = &a;			// Error

int* ptr3;
ptr3 = ptr1; // Error
```

- const valueλ” const poointerλ΅λ§ μ§€μ • κ°€λ¥
- μΌλ° ν¬μΈν„°λ” const ν¬μΈν„° λ°›μ„ μ μ—†μ



<br>



## pointer + const

``` cpp
int a = 20;
int b = 5;
int* const ptr = &a;

*ptr = 10; // OK
ptr = &b;  // Error
```

- ν¬μΈν„°κ°€ κ°€λ¦¬ν‚¤λ” μ£Όμ†κ°’μ„ λ» λ°”κΎΈκ² ν•¨
- de-referenceλ” κ°€λ¥

<br>

``` cpp
const int a = 5;
const int* const ptr = &a;
```

- μ•„λ¬΄κ²ƒλ„ λ» ν•¨



<br>



# π† μ°Έμ΅° λ³€μ - Reference Variable

``` cpp
int value = 5;
int &ref = value;

int &ref = 123; // Error
int &ref;       // Error
```

- ν¬μΈν„°λ” λ³€μμ μ£Όμ†λ¥Ό λ‹΄κ³ μμ
- λ°λ©΄ μ°Έμ΅°λ” κ°™μ€ **λ©”λ¨λ¦¬λ¥Ό κ³µμ !** (λ³„λ… λλ‚)
- μ΄κΈ°ν™” λ°λ“μ‹ ν•΄μ•Όν•¨
- R-valueλ΅ μ΄κΈ°ν™” λ» ν•¨(λ©”λ¨λ¦¬κ°€ μ—†μ)
- const μƒμλ” const referenceλ§ κ°€λ¥


<br>


## ν•¨μ νλΌλ―Έν„°λ΅ λ„μ–΄κ° λ•

``` cpp
void doSomething(int &n){};
void doSomething(int (&arr)[5]){};
```

- λ³€μλ¥Ό λ³µμ‚¬ν•΄μ„ λ„μ–΄κ°€λ” κ²ƒμ΄ μ•„λ‹ λ³€μ μμ²΄κ°€ λ„μ–΄κ°
- ν¬μΈν„°λ„ μ£Όμ† λ³µμ‚¬κΉμ§€λ” ν•¨
- νΌν¬λ¨Όμ¤ μΈ΅λ©΄μ—μ„λ„ reference μΆ‹μ
- λ‹¨ λ°°μ—΄μ„ μ°Έμ΅°ν•  λ•λ” μ‚¬μ΄μ¦ λ…μ‹ν•΄μ•Ό ν•¨


<br>


## κµ¬μ΅°μ²΄(Struct)μ—μ„ μ•„μ£Ό μ μ©

``` cpp
struct Something
{
	int v1;
	float v2;
};

struct Other
{
	Something st;
};


int main()
{
	Other ot;

	int& v1 = ot.st.v1;
	v1 = 1;

	return 0;
}
```

- λ³€μ μ΄λ¦„μ΄ λ³µμ΅ν•  λ• μ°Έμ΅°μ“°λ©΄ λ‹¬λ‹¬


<br>
<br>

[λ§¨ μ„λ΅ μ΄λ™ν•κΈ°](#){: .btn .btn--primary }{: .align-right}